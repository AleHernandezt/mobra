---
import Titulo from "../components/Titulo.astro";
---

<section
  class="p-16 pt-20 flex flex-col justify-start items-center relative mb-16"
  id="Testymonial"
>
  <Titulo
    title="Testymonial"
    subtitle="Lorem ipsum dolor sit amet consectetur adipisicing elit. Rem, facilis?"
  />

  <div class="flex justify-around gap-8 relative">
    <!-- Carousel container -->
    <div class="flex flex-col gap-8">
      <!-- Testimonial component will be rendered here -->
      <div id="testimonial-container"></div>
    </div>
  </div>

  <!-- Add a wrapper for the testimonials -->
  <div id="testimonial-wrapper"></div>

  <style>
    /* Add styles for the sliding animation */
    #testimonial-wrapper {
      overflow: hidden;
    }
    #testimonial-container {
      transition: transform 0.5s ease-in-out;
    }

    .testimonial {
      width: 400px; /* ajusta el ancho seg√∫n tus necesidades */
      margin: 0 auto; /* centra el testimonio horizontalmente */
      word-wrap: break-word; /* add this to allow long words to break to next line */
    }
  </style>

  <script lang="ts">
    // Get the testimonial container and wrapper
    const testimonialContainer = document.getElementById(
      "testimonial-container"
    );
    const testimonialWrapper = document.getElementById("testimonial-wrapper");

    // Define the testimonials data
    const testimonials = [
      {
        autor: "Pastor",
        testimonio:
          "Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled",
      },
      {
        autor: "Pastor",
        testimonio: "Lorem Ipsum diosmio espero que si funcione el boton Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled",
      },
      {
        autor: "Pastor",
        testimonio: "corto Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled",
      },
      {
        autor: "Pastor",
        testimonio: "Lorem Ipsum is que fastidio ",
      },
    ];

    // Initialize the current testimonial index
    let currentIndex = 0;

    // Render the initial testimonial
    renderTestimonial();

    // Set the interval to switch testimonials every 2 seconds
    setInterval(() => {
      currentIndex++;
      if (currentIndex >= testimonials.length) {
        currentIndex = 0;
      }
      renderTestimonial();
    }, 2000);

    // Function to render the current testimonial
    function renderTestimonial() {
      const testimonial = testimonials[currentIndex];
      testimonialContainer.innerHTML = `
    <div class="testimonial rounded-lg shadow-md p-4 border-2 border-yellow-500 bg-transparent transition duration-500 ease-in-out scale-100 hover:scale-110">
      <p class="text-lg font-bold">${testimonial.autor}</p>
      <p class="text-gray-600">${testimonial.testimonio}</p>
      <div class="flex gap-2 pt-2">
            <!-- Add your SVG icons here -->
          </div>
        </div>
      `;

      // Add the sliding animation
      testimonialContainer.style.transform = `translateX(${currentIndex}%)`;
    }
  </script>
</section>
